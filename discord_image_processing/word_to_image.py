from PIL import Image, ImageDraw, ImageFont
import io
import os



WORD_LIST = ["APOTHECARY",
"APPARATION",
"AQUA VITAE",
"BLUEBOTTLE",
"BOWTRUCKLE",
"BUTTERBEER",
"CARTOMANCY",
"COUNTERHEX",
"DISSENDIUM",
"DIVINATION",
"DRAGONHIDE",
"DRAGON EGG",
"DUMBLEDORE",
"FIREWHISKY",
"GAMEKEEPER",
"GRYFFINDOR",
"HUFFLEPUFF",
"IFFRACOMBE",
"ILVERMORNY",
"KETTLEBURN",
"LONGBOTTOM",
"MEDIWIZARD",
"MORSMORDRE",
"NARCOLEPSY",
"NECROMANCY",
"NUMEROLOGY",
"NURMENGARD",
"NYMPHADORA",
"PIGWIDGEON",
"PUDDLEMERE",
"REMEMBRALL",
"SALAMANDER",
"SCRIMGEOUR",
"SCUBASPELL",
"SWIFTSTICK",
"TERRY BOOT",
"TESSOMANCY",
"THE BURROW",
"TIMETURNER",
"VEELA HAIR",
"AIDAN LYNCH",
"ARITHMANCER",
"BIBLIOMANCY",
"BROOMSTICKS",
"CHEIROMANCY",
"CHIEF AUROR",
"COLLOPORTUS",
"CONJURATION",
"CROOKSHANKS",
"DEAN THOMAS",
"DEATH EATER",
"DELUMINATOR",
"DOREA BLACK",
"DUNG BEETLE",
"FIREWHISKEY",
"GIGGLEWATER",
"HIPPOGRIFFS",
"ISOBEL ROSS",
"KINGS CROSS",
"LILY POTTER",
"LIQUID LUCK",
"LISA TURPIN",
"LOVE POTION",
"LYCANTHROPY",
"MY IMMORTAL",
"NIMBUS 2000",
"NIMBUS 2001",
"OLIVER WOOD",
"OLLIVANDERS",
"OMNIOCULARS",
"ONEIROMANCY",
"OUTSTANDING",
"PALMREADING",
"PARSELMOUTH",
"POLTERGEIST",
"POTTERWATCH",
"PYGMY PUFFS",
"QUEEN MAEVE",
"REMEMBERALL",
"REMUS LUPIN",
"SHACKLEBOLT",
"THUNDERBOLT",
"TRACE CHARM",
"TRANSFIGURE",
"UNDESIRABLE",
"UNPLOTTABLE",
"UNSPEAKABLE",
"VICTOR KRUM",
"WAGGA WAGGA",
"AGING POTION",
"AUROR MACUSA",
"BARTHOLOMEUS",
"BARTY CROUCH",
"BEZOAR STONE",
"CANARY CREAM",
"CONJURATIONS",
"COUNTERCURSE",
"COUNTERCHARM",
"CURSED CHILD",
"DARK WIZARDS",
"DEATH EATERS",
"DIAGON ALLEY",
"DRAGON BLOOD",
"EXPELLIARMUS",
"EYEBROW JINX",
"GINNY POTTER",
"GREGOROVITCH",
"HARRYHUNTING",
"HESTIA JONES",
"INVISIBILITY",
"JAMES POTTER",
"JEAN GRANGER",
"KNEAZLE HAIR",
"MEROPE GAUNT",
"MOBILICORPUS",
"OPPUGNO JINX",
"PARSELTONGUE",
"PHOEBE BLACK",
"QUDDITCH CUP",
"RICTUMSEMPRA",
"ROMILDA VANE",
"SECRETKEEPER",
"SECTUMSEMPRA",
"TICKLING HEX",
"TOUJOURS PUR",
"TRANSYLVANIA",
"UMBRIDGEITIS",
"UNCLE VERNON",
"UNICORN FOAL",
"UNICORN HAIR",
"UNICORN HORN",
"WITCH WEEKLY",
"YOU KNOW WHO",
"AGEING POTION",
"ALASTOR MOODY",
"ALBUS SEVERUS",
"AUNTIE MURIEL",
"AVADA KEDAVRA",
"BASILISK FANG",
"BLOCKING JINX",
"CANARY CREAMS",
"CHOKING SPELL",
"COURTROOM TEN",
"DAILY PROPHET",
"DISAPPARATION",
"DRAGONOLOGIST",
"GINNY WEASLEY",
"GROUNDSKEEPER",
"HANNAH ABBOTT",
"HEALING SPELL",
"KILLING CURSE",
"MAD EYE MOODY",
"MADAM MALKINS",
"MADAM POMFREY",
"MADAME MAXIME",
"MAGIZOOLOGIST",
"MARAUDERS MAP",
"MARVOLO GAUNT",
"MEMORY POTION",
"MENDING CHARM",
"METAMORPHAGUS",
"PARVATI PATIL",
"PERCY WEASLEY",
"PETUNIA EVANS",
"PHINEAS BLACK",
"POMONA SPROUT",
"PROTEAN CHARM",
"PUMPKIN PASTY",
"QUIDDITCH CUP",
"REGULUS BLACK",
"REVELIO CHARM",
"RUNESPOOR EGG",
"SECRET KEEPER",
"SELWYN FAMILY",
"SERPENTSORTIA",
"SEVERUS SNAPE",
"SHELL COTTAGE",
"SHERBET LEMON",
"STAN SHUNPIKE",
"TERENCE HIGGS",
"THE 7 POTTERS",
"THE DARK MARK",
"THE FAT FRIAR",
"THE GREY LADY",
"THE MARAUDERS",
"THEODORE NOTT",
"TOFFEE ECLAIR",
"TRIWIZARD CUP",
"UNICORN BLOOD",
"VERNON DUDLEY",
"ABRAXAS MALFOY",
"AGE LINE SPELL",
"ARCTURUS BLACK",
"CLEANSWEEP ONE",
"CLEANSWEEP TWO",
"DEATHLY HALLOW",
"DEDALUS DIGGLE",
"DIRK CRESSWELL",
"DURSLEYS HOUSE",
"ELIXIR OF LIFE",
"EMERALD POTION",
"EXPLODING SNAP",
"FIDELIUS CHARM",
"GAWAIN ROBARDS",
"HEAD BOY BADGE",
"HEAD CUSTODIAN",
"HEALING POTION",
"HERPO THE FOUL",
"HOGWARTS TRAIN",
"HORIZONT ALLEY",
"HORNED SERPENT",
"HOVERING CHARM",
"IGNITION SPELL",
"IGOR KARKAROFF",
"IMPEDIMENT HEX",
"IMPERIUS CURSE",
"INCENDIO SPELL",
"INTRUDER CHARM",
"JELLYLEGS JINX",
"KNOCKBACK JINX",
"LEAKY CAULDRON",
"LORD VOLDEMORT",
"LUDOVIC BAGMAN",
"MADAM ROSMERTA",
"MEMORY POTIONS",
"METAMORPHMAGUS",
"MOANING MYRTLE",
"NICOLAS FLAMEL",
"PORTABLE SWAMP",
"PORTRAIT CURSE",
"PROTEGO MAXIMA",
"QUAFFLEPOCKING",
"QUIDDITCH TEAM",
"REDUCTOR CURSE",
"REG CATTERMOLE",
"REPELING SPELL",
"REVIVING SPELL",
"REVULSION JINX",
"ROLF SCAMANDER",
"RONALD WEASLEY",
"STUNNING SPELL",
"THE DEATHSTICK",
"THE ELDER WAND",
"THE HANGED MAN",
"THE HOBGOBLINS",
"THE WIZENGAMOT",
"THE GREAT HALL",
"TICKLING CHARM",
"VERNON DURSLEY",
"WALBURGA BLACK",
"WANDLESS MAGIC",
"ACROMANTULA EGG",
"AGUAMENTI CHARM",
"ALASTOR GUMBOIL",
"ALTHEDAS POTION",
"AMBROSIUS FLUME",
"ANCIENT STUDIES",
"ANDROMEDA BLACK",
"ANDROMEDA TONKS",
"ANIMAGUS POTION",
"ANTITHEFT CHARM",
"ANTONIN DOLOHOV",
"AURORA SINISTRA",
"BARTY CROUCH JR",
"BILLIUS WEASLEY",
"BOILCURE POTION",
"BOMBARDA MAXIMA",
"BOMBARDIO MAXIA",
"BUTTERFLY SPELL",
"CADMUS PEVERELL",
"CALMING DRAUGHT",
"CHARLIE WEASLEY",
"CHEERING CHARMS",
"CHUCKLE EXTRACT",
"CHUDLEY CANNONS",
"CONFUNDUS CHARM",
"CORMAC MCLAGGEN",
"CORNELIUS FUDGE",
"CRUCIATUS CURSE",
"DEATHLY HALLOWS",
"DELETRIUS CHARM",
"DRAGON POX CURE",
"ENGORGING CHARM",
"ENLARGING SPELL",
"EUPHEMIA POTTER",
"EVENING PROPHET",
"FILIUS FLITWICK",
"FIRE SALAMANDER",
"HOMENUM REVELIO",
"KNOCKTURN ALLEY",
"LOVEGOOD FAMILY",
"MADAM EDGECOMBE",
"MADAM PUDDIFOOT",
"MADAME ROSMERTA",
"MAFALDA HOPKIRK",
"MAKING MISCHIEF",
"MARY CATTERMOLE",
"MIRANDA GOSHAWK",
"ORDER OF MERLIN",
"PEPPERUP POTION",
"PETER PETTIGREW",
"PROFESSOR BINNS",
"PROFESSOR LUPIN",
"PROFESSOR SNAPE",
"SCROPIUS MALFOY",
"SLEEPING POTION",
"SORCERERS STONE",
"STRENGTH POTION",
"STRETCHING JINX",
"TAILGROWING HEX",
"THIEFS DOWNFALL",
"ZACHARIAS SMITH",
"ARRESTO MOMENTUM",
"AUTOANSWER QUILL",
"AWAKENING POTION",
"BABBITTY RABBITY",
"BANEBERRY POTION",
"BARTEMIUS CROUCH",
"BATHILDA BAGSHOT",
"BORGIN AND BURKE",
"BUBBLEHEAD CHARM",
"CASSIOPEIA BLACK",
"CEDRELLA WEASLEY",
"CHINESE FIREBALL",
"CLEANING POTIONS",
"CUSHIONING CHARM",
"DEGNOMING GLOVES",
"DOLORES UMBRIDGE",
"EVERCHANGING INK",
"EVERLASTING FIRE",
"EXPECTO PATRONUM",
"EXPLODING POTION",
"FIREBOLT SUPREME",
"HALFBLOOD PRINCE",
"HALL OF PROPHECY",
"HELENA RAVENCLAW",
"HELGA HUFFLEPUFF",
"HERBICIDE POTION",
"HERBIVICUS CHARM",
"KENMARE KESTRELS",
"KEVIN ENTWHISTLE",
"LEVITATION CHARM",
"LOCOMOTOR MORTIS",
"POLYJUICE POTION",
"SHRINKING POTION",
"UNDESIRABLE NO 1",
"VANISHING STAIRS",
"VICTOIRE WEASLEY",
"WOLFSBANE POTION",
"ZONKOS JOKE SHOP"]

CIPHER_LIST = ['semaphore.ttf', 'pigpen.otf', 'braille.ttf',  'morse.ttf']
FONT_DIR = 'fonts'
IMG_DIR = 'encoded_imgs'


# Font Size, Position
FONT_OPTIONS = {
    "braille.ttf": [40, (125, 75)],
    "morse.ttf": [25, (20, 75)],
    "semaphore.ttf": [40, (80, 75)],
    "pigpen.otf": [40, (125, 75)]
}


# TODO: Create options for each font
def main():
    for idx, word in enumerate(reversed(WORD_LIST)):
        # Test words
        #word = "UMBRIDGEITIS"
        #word = "WOLFSBANE POTION"
        #word = "ZONKOS JOKE SHOP"
        word = word.replace(' ', '\n')
        for cipher in CIPHER_LIST:
            
            img = Image.new('RGB', (600, 200), (243, 243, 243))
            d = ImageDraw.Draw(img)

            fnt = ImageFont.truetype(os.path.join(FONT_DIR, cipher), FONT_OPTIONS[cipher][0])
            if 'sema' in cipher:
                word = word.lower()
            x_factor = word.count('\n')
            word_position = (FONT_OPTIONS[cipher][1][0] + x_factor*25, FONT_OPTIONS[cipher][1][1] - x_factor*20)
            # IF MORSE, WE NEED TO TAKE MORE OFF THE X
            d.text(word_position, word, font=fnt, fill=(0,0,0))
            
            img.save(os.path.join(IMG_DIR, str(idx).zfill(3) + f'_{cipher[0:2]}.png'), 'png')
        #break


if __name__ == '__main__':
    main()
